# include class tx_contagged as library
#includeLibs.tx_contagged = EXT:contagged/class.tx_contagged.php

# invoke the parser
/*
lib.stdheader.stdWrap.postUserFunc = tx_contagged->main
tt_content {
	text.20.postUserFunc = tx_contagged->main
	bullets.20.postUserFunc = tx_contagged->main
	table.20.stdWrap.postUserFunc = tx_contagged->main
	uploads.20.itemRendering.20.2.postUserFunc = tx_contagged->main
	image.20.caption.1.postUserFunc = tx_contagged->main
	html.postUserFunc = tx_contagged->main
}
*/

plugin.tx_contagged {
    view {
        templateRootPaths {
            0 = EXT:contagged/Resources/Private/Templates/
            1 = {$plugin.tx_contagged.view.templateRootPath}
        }

        partialRootPaths {
            0 = EXT:contagged/Resources/Private/Partials/
            1 = {$plugin.tx_contagged.view.partialRootPath}
        }

        layoutRootPaths {
            0 = EXT:contagged/Resources/Private/Layouts/
            1 = {$plugin.tx_contagged.view.layoutRootPath}
        }
    }

    persistence {
        storagePid = {$plugin.tx_contagged.persistence.storagePid}
    }

    settings {
		disableParser = {$plugin.tx_contagged.settings.disableParser}
        linkToListPage = {$plugin.tx_contagged.settings.linkToListPage}
        listPage = {$plugin.tx_contagged.settings.listPage}
		detailPage = {$plugin.tx_contagged.settings.detailPage}
        includeRootPages = {$plugin.tx_contagged.settings.includeRootPages}
        excludeRootPages = {$plugin.tx_contagged.settings.excludeRootPages}
        includePages = {$plugin.tx_contagged.settings.includePages}
        excludePages = {$plugin.tx_contagged.settings.excludePages}
        excludeTags = {$plugin.tx_contagged.settings.excludeTags}
        autoExcludeTags = {$plugin.tx_contagged.settings.autoExcludeTags}
        fetchRelatedTerms = {$plugin.tx_contagged.settings.fetchRelatedTerms}
        checkPreAndPostMatches = {$plugin.tx_contagged.settings.checkPreAndPostMatches}
        respectCase = {$plugin.tx_contagged.settings.respectCase}
        addTitleAttribute = {$plugin.tx_contagged.settings.addTitleAttribute}
        addLangAttribute = {$plugin.tx_contagged.settings.addLangAttribute}
        addCssClassAttribute = {$plugin.tx_contagged.settings.addCssClassAttribute}
        replaceTerm = {$plugin.tx_contagged.settings.replaceTerm}
        maxRecurrences = {$plugin.tx_contagged.settings.maxRecurrences}
        maxRecurrencesPerPage = {$plugin.tx_contagged.settings.maxRecurrencesPerPage}
		maxReplacementPerPage = {$plugin.tx_contagged.settings.maxReplacementPerPage}
        updateKeywords = {$plugin.tx_contagged.settings.updateKeywords}
        labelWrap1 = {$plugin.tx_contagged.settings.labelWrap1}
        labelWrap2 = {$plugin.tx_contagged.settings.labelWrap2}
        modifier = {$plugin.tx_contagged.settings.modifier}
        sortField = {$plugin.tx_contagged.settings.sortField}
        fieldsToMap = {$plugin.tx_contagged.settings.fieldsToMap}
        fieldsToParse = {$plugin.tx_contagged.settings.fieldsToParse}
        autoExcludeTerms = {$plugin.tx_contagged.settings.autoExcludeTerms}
        addBackLink = {$plugin.tx_contagged.settings.addBackLink}
        addBackLinkDescription = {$plugin.tx_contagged.settings.addBackLinkDescription}
    }

	images {
		stdWrap.wrap = <div class="tx-contagged-images">|</div>
		caption.stdWrap.wrap = <div class="tx-contagged-imagecaption"> | </div>
	    caption.stdWrap.trim = 1
		single.image {
			file.maxW = {$contagged.singleMaxW}
			file.maxH = {$contagged.singleMaxH}
			stdWrap.wrap = <div class="tx-contagged-singleimage">|</div>
			imageLinkWrap = 1
			imageLinkWrap {
				enable = 1
				bodyTag = <body bgColor="#ffffff">
				wrap = <a href="javascript:close();"> | </a>
				width = 500m
				height = 500
				JSwindow = 1
				JSwindow.newWindow = 1
				JSwindow.expand = 17,20
			}
		}
	}

	related {
		stdWrap.wrap = <div class="tx-contagged-related">|</div>
		single.stdWrap.wrap = <div>|</div>
	}

	index {
		enable = {$contagged.enableIndex}
		showOnlyMatchedIndexChars = {$contagged.showOnlyMatchedIndexChars}
		autoAddIndexChars = {$contagged.autoAddIndexChars}
	}

	pagebrowser {
		enable = {$contagged.enablePageBrowser}
		results_at_a_time = {$contagged.results_at_a_time}
		maxPages = {$contagged.maxPages}
		dontLinkActivePage = {$contagged.dontLinkActivePage}
		pagefloat = {$contagged.pagefloat}
		showFirstLast = {$contagged.showFirstLast}
		alwaysPrev = {$contagged.alwaysPrev}
		showResultCount = {$contagged.showResultCount}
		showRange = {$contagged.showRange}
		tableParams = {$contagged.tableParams}
		pointerName = {$contagged.pointerName}
		enableHtmlspecialchars = {$contagged.enableHtmlspecialchars}
		wraps {
			browseBoxWrap = <div class="browseBoxWrap">|</div>
			showResultsWrap = <div class="showResultsWrap">|</div>
			browseLinksWrap = <div class="browseLinksWrap">|</div>
			showResultsNumbersWrap = <span class="showResultsNumbersWrap">|</span>
			disabledLinkWrap = <span class="disabledLinkWrap">|</span>
			inactiveLinkWrap = <span class="inactiveLinkWrap">|</span>
			activeLinkWrap = <span class="activeLinkWrap">|</span>
		}
	}

	searchbox {
		enable = {$contagged.enableSearchBox}
		fieldsToSearch = {$contagged.fieldsToSearch}
	}

	multimedia {
		# see cObj MULTIMEDIA for reference
		file.wrap = uploads/media/
		params (
			width = 100
			height = 16
			autostart = false
			controller = true
			loop = false
		)
	}

	types {

		definition {
			label = Definition
			label.de = Definition
			tag = dfn
		}

		tooltip {
			label = Definition (tool-tip)
			label.de = Definition (Tool-Tip)
			tag = span
			addCssClassAttribute = 1
			cssClass = tooltip
			stripBlockTags = 1
			stdWrap.innerWrap.cObject = COA
			stdWrap.innerWrap.cObject {
				10 = TEXT
				10.value = | <span class="tx-contagged-tooltip-content"><a href="{register:contagged_link_url}">{register:contagged_matchedTerm}</a><br />
				10.insertData = 1
				20 = TEXT
				20.data = register:contagged_desc_short_inline
				20.ifEmpty.data = register:contagged_desc_long_inline
				30 = TEXT
				30.value = </span>
			}
		}

		acronym {
			label = Acronym
			label.de = Kurzwort aus Anfangsbuchstaben (Beispiel: NATO)
			tag = acronym
		}

		abbrevation {
			label = Abbrevation
			label.de = Abk√ºrzung (Beispiel: u.s.w.)
			tag = abbr
		}

	}

	dataSources {
		default {
			sourceName = tx_contagged_terms
			hasSysLanguageUid = 1
			storagePids =
			fieldsToEdit = term_main,term_alt,term_type,term_lang,term_replace,desc_short,desc_long,link,exclude
			mapping {
				uid.field = uid
				pid.field = pid
				term_main.field = term_main
				term_alt.field = term_alt
				term_type.field = term_type
				term_replace.field = term_replace
				term_lang.field = term_lang
				desc_short.field = desc_short
				desc_long.field = desc_long
				reference.field = reference
				pronunciation.field = pronunciation
				image.field = image
				imagecaption.field = imagecaption
				imagealt.field = imagealt
				imagetitle.field = imagetitle
				multimedia.field = multimedia
				related.field = related
				link.field = link
				exclude.field = exclude
			}
		}
	}
}